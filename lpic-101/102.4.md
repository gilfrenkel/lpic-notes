# Linux LPIC-1: System Administrator

## Linux installation and Package management

### Debian Package management

There are different utilities used within the debian distribution
to manage and install packages, both locally and from remote repositories.
Since ubuntu and ubuntu derivatives are based on debian, we will
see the APT(Advanced Package Tool) and the DPKG tool used by both.

#### APT / APT-get

You cant talk about package managers without first addressing
dependency issues, one of the prominent functions of a package manager
is to make sure that all nessecary dependencies were installed
with any requested package.

Within every package there is a configuration file that lists
the dependencies required for that specific package to work properly.
The package manager will query the remote repository listed in the mirror
lists file, it will create its own mirror of the remote repository
on your system using the mirror list file.

##### Repository sources

When you update your local package repository using:
```
sudo apt-get update
```
the apt tool will scan the repo source file for configured package repositories
```
/etc/apt/sources.list
/etc/apt/sources.list.d/<custom repo list file>.list
```
package repository entries will appear as a line in the file
```
<identifier> <url> <distributin name> <component>
```
for example:
```
deb  http://deb.debian.org/debian stretch main contrib non-free
```
It is also possible to change 'deb' to 'deb-src' to instruct the apt Tool
'deb' - refers to binary packages installed using 'apt-get install'
'deb-source' - refers to source code repositories downloaded using 'apt-get source <package name>'

the component indicates additional information regarding the Repository
'main' - is a main Repository
'restricted' - license may be not-very-much-so open sources
'universe' - unsupported (may not get duture updates)
'multiverse' - software that is "questionable, contraversial" like closed-source and open-source software with
                commercial licensing

after changing/adding repositories updating the local repo is nessecary
```
sudo apt-get update
```

it is also possible to add 3rd party / custom repository addresses.
creating a file in
```
/etc/apt/sources.d/
```
example:
```
#/etc/apt/sources.list.d/custom.lists

deb http://myreposiroty.archive.com trusty partner
deb-src http://myreposiroty.archive.com trusty partner
```
this will keep the main sources.list file untouched and
improve the security of you system

##### apt / apt-get commands

installing a package:
```
apt-get install <package name>
```

updating the local repository:
```
apt-get update
```

upgrading packages to latest version available in repositories:
```
apt-get upgrade
```

upgrading the ubuntu distribution system
```
apt-get dist-upgrade
```

##### Removing packages

It is important to note that removing a package
DOES NOT remove its configuration files

To remove a package:
```
apt-get remove <package name>
```

To remove a package and its configuration files:
```
apt-get purge <package name>
```

##### Searching for packages

When we want to search the local repository for a specific package
we normally use the 'apt-cache' command

```
apt-cache search httpd
```
output:
```
<package name> - <package description>
<dependency name> - <dependency description>
```

Example:
```
user@machine> apt-cache search vsftpd
vsftpd - lightweight, efficient FTP server written for security
ccze - A robust, modular log coloriser
ftpd - File Transfer Protocol (FTP) server
yasat - simple stupid audit tool
```

to list more details about the package:
```
apt-cache show <package name>
```
this list various details about the package including homepage, bugs, origin,
support, maintainer, architecture and many others

for more technical information about a package:
```
apt-cache showpkg <package name>
```
this command will list details regarding dependencies, services,
description language and more

#### The dpkg utility
